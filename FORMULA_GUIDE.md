# Руководство по работе с формулами - Logisim Clone

## Введение

Теперь вы можете строить схемы прямо из логических формул! Просто введите формулу, и схема будет построена автоматически.

## Синтаксис формул

### Операторы

| Оператор | Значение | Примеры |
|----------|----------|---------|
| `&` | AND (И) | `A&B`, `abc` |
| `+` | OR (ИЛИ) | `A+B`, `a+b+c` |
| `~` | NOT (НЕ) | `~A`, `~(A&B)` |
| `^` | XOR (Исключающее ИЛИ) | `A^B` |
| `()` | Группировка | `(A&B)+C` |

### Приоритет операций

1. **NOT** (`~`) - самый высокий
2. **AND** (`&`)
3. **XOR** (`^`)
4. **OR** (`+`) - самый низкий

### Неявный AND

Если переменные написаны подряд без оператора, это означает AND:
- `abc` = `a&b&c`
- `AB` = `A&B`

## Примеры формул

### Простые формулы

**OR вентиль:**
```
formula A+B
```

**AND вентиль:**
```
formula A&B
```

**NOT вентиль:**
```
formula ~A
```

**XOR вентиль:**
```
formula A^B
```

### Формулы из ваших изображений

**Формула 1:** `F = (A&B)V(B&C)V(Ā&C)`
```
formula (A&B)+(B&C)+(~A&C)
```

Результат:
- 3 входа: A, B, C
- 1 NOT вентиль (для ~A)
- 3 AND вентиля
- 2 OR вентиля
- 1 LED (выход F)

**Формула 2:** `abc + ābc + ab̄c = y`
```
formula (a&b&c)+(~a&b&c)+(a&~b&c)
```

Результат:
- 3 входа: a, b, c
- 2 NOT вентиля (для ~a и ~b)
- 3 AND вентиля (по 3 входа)
- 2 OR вентиля
- 1 LED (выход F)

### Сложные формулы

**Мультиплексор 2:1:**
```
formula (A&~S)+(B&S)
```

**Полусумматор:**
```
formula A^B
```
(для суммы)

```
formula A&B
```
(для переноса)

**Полный сумматор (сумма):**
```
formula A^B^Cin
```

**Полный сумматор (перенос):**
```
formula (A&B)+(Cin&(A^B))
```

### Формулы с несколькими уровнями

**Трехуровневая формула:**
```
formula ((A&B)+(C&D))&E
```

**Дистрибутивный закон:**
```
formula (A+B)&(A+C)
```

## Пошаговая инструкция

### Шаг 1: Запустите приложение

```bash
cd /Users/timmy/Desktop/logisim
python3 main.py
```

### Шаг 2: Введите формулу

В строке ввода внизу экрана введите:
```
formula (A&B)+(~A&C)
```

Нажмите Enter или кнопку "Выполнить".

### Шаг 3: Проверьте схему

Схема будет построена автоматически:
- Слева - входные переключатели (A, B, C)
- В центре - логические вентили
- Справа - выходной светодиод (F)

### Шаг 4: Тестируйте

Кликайте по переключателям, чтобы изменить их состояние. Светодиод будет показывать результат вычисления формулы.

## Таблица истинности

Для формулы `(A&B)+(~A&C)`:

| A | B | C | F |
|---|---|---|---|
| 0 | 0 | 0 | 0 |
| 0 | 0 | 1 | 1 |
| 0 | 1 | 0 | 0 |
| 0 | 1 | 1 | 1 |
| 1 | 0 | 0 | 0 |
| 1 | 0 | 1 | 0 |
| 1 | 1 | 0 | 1 |
| 1 | 1 | 1 | 1 |

## Советы

### 1. Используйте скобки

Для ясности всегда используйте скобки:
- ✅ `(A&B)+(C&D)`
- ❌ `A&B+C&D` (может быть неоднозначно)

### 2. Проверяйте переменные

Используйте одинаковый регистр для одной переменной:
- ✅ `A&B+A&C` (A - одна переменная)
- ❌ `A&B+a&C` (A и a - разные переменные!)

### 3. Тестируйте простые формулы

Начните с простых формул, чтобы понять, как они строятся:
```
formula A+B
formula A&B
formula ~A
```

### 4. Очищайте перед новой формулой

Перед построением новой формулы очистите схему:
```
clear
```

## Обработка ошибок

### Ошибка: "Unexpected character"

**Причина:** Неподдерживаемый символ в формуле.

**Решение:** Используйте только: `A-Z`, `a-z`, `&`, `+`, `~`, `^`, `(`, `)`

### Ошибка: "Missing closing parenthesis"

**Причина:** Несбалансированные скобки.

**Решение:** Проверьте, что каждой `(` соответствует `)`

### Ошибка: "Unexpected end of formula"

**Причина:** Формула обрывается неожиданно.

**Решение:** Проверьте полноту формулы

## Расширенные возможности

### Многобитные операции

Для работы с несколькими битами используйте отдельные переменные:
```
formula (A0&B0)+(A1&B1)
```

### Каскадные формулы

Можно строить несколько формул подряд:
```
clear
formula A&B
```
(подождите)
```
formula C+D
```

### Сохранение схем

После построения схемы из формулы вы можете сохранить её:
1. Меню → Файл → Сохранить
2. Файл будет сохранен как `circuit.lgsim`

## Примеры из учебников

### Пример 1: Закон де Моргана

**Формула:** `~(A&B) = ~A + ~B`

Левая часть:
```
formula ~(A&B)
```

Правая часть (очистите схему перед этим):
```
clear
formula ~A+~B
```

Обе схемы должны давать одинаковый результат!

### Пример 2: Дистрибутивность

**Формула:** `A&(B+C) = (A&B)+(A&C)`

Левая часть:
```
formula A&(B+C)
```

Правая часть:
```
clear
formula (A&B)+(A&C)
```

### Пример 3: Сумма минтермов

**Формула:** `F = Σm(1,3,5,7)` для 3 переменных

```
formula (~A&~B&C)+(~A&B&C)+(A&~B&C)+(A&B&C)
```

Упрощенно:
```
formula C
```

## Будущие возможности

В следующих версиях планируется:

1. **OCR из изображений** - загрузка фото формулы
2. **Упрощение формул** - автоматическое упрощение
3. **Экспорт в формулу** - преобразование схемы обратно в формулу
4. **Таблица истинности** - автоматическая генерация

---

**Удачи в построении схем! ⚡**
